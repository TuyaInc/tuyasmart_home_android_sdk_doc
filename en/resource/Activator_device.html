
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Device Configuration Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-gtalk/gtalk.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sf-score/style/scorePlugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    


    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Activator_device.html" />
    
    
    <link rel="prev" href="FamilyManager.html" />
    

    
        <link rel="shortcut icon" href='../zh-hans/resource/images/bitbug_favicon.ico' type="image/x-icon">
    
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"star","size":"small"},{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"watch","size":"small"},{"user":"TuyaInc","type":"follow","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Features Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Demo.html">
            
                <a href="Demo.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="User_mobile.html">
            
                <a href="User_mobile.html">
            
                    
                    Use Mobile Phone for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="User_email.html">
            
                <a href="User_email.html">
            
                    
                    Use Email for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="User_uid.html">
            
                <a href="User_uid.html">
            
                    
                    Use Uid for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="User_ThirdLogin.html">
            
                <a href="User_ThirdLogin.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="User_update.html">
            
                <a href="User_update.html">
            
                    
                    Modify User Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="User_logout.html">
            
                <a href="User_logout.html">
            
                    
                    Logout, Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="User_model.html">
            
                <a href="User_model.html">
            
                    
                    User Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="User_Session.html">
            
                <a href="User_Session.html">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="HomeAbout.html">
            
                <a href="HomeAbout.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#home-relationship-management">
            
                    
                    Home Relationship Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#family-management">
            
                    
                    Operation of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#family-member-management">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#room-information-management">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#home-weather">
            
                    
                    Home's Weather
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.7" data-path="Activator_device.html">
            
                <a href="Activator_device.html">
            
                    
                    Device Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Activator_device.html">
            
                <a href="Activator_device.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Activator_device.html">
            
                <a href="Activator_device.html#instructions">
            
                    
                    Instructions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Activator_device.html">
            
                <a href="Activator_device.html#implementation">
            
                    
                    Implementation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.3.1" data-path="Activator_device.html">
            
                <a href="Activator_device.html#quick-connection-mode">
            
                    
                    Quick Connection Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.2" data-path="Activator_device.html">
            
                <a href="Activator_device.html#hotspot-mode">
            
                    
                    Hotspot Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.3" data-path="Activator_device.html">
            
                <a href="Activator_device.html#camera-scan-code-network-configuration">
            
                    
                    Camera Scan Code Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.4" data-path="Activator_device.html">
            
                <a href="Activator_device.html#wired-network-configuration">
            
                    
                    Wired Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.5" data-path="Activator_device.html">
            
                <a href="Activator_device.html#sub-device-configuration">
            
                    
                    Sub-device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.6" data-path="Activator_device.html">
            
                <a href="Activator_device.html#bluetooth-configuration">
            
                    
                    Bluetooth Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Device.html">
            
                <a href="Device.html#device-management">
            
                    
                    Device Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Device.html">
            
                <a href="Device.html#initialize-device">
            
                    
                    Initialize Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Device.html">
            
                <a href="Device.html#device-data-listener">
            
                    
                    Device Data Listener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Device.html">
            
                <a href="Device.html#functions-of-device">
            
                    
                    Functions of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="Device.html">
            
                <a href="Device.html#querying-device-information">
            
                    
                    Querying Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="Device.html">
            
                <a href="Device.html#modify-the-device-name">
            
                    
                    Modify the Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="Device.html">
            
                <a href="Device.html#restore-factory-settings">
            
                    
                    Restore Factory Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="Device.html">
            
                <a href="Device.html#obtain-wi-fi-signal-strength">
            
                    
                    Obtain Wi-Fi Signal Strength
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="Device.html">
            
                <a href="Device.html#recycling-device-resources">
            
                    
                    Recycling Device Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="OTA.html">
            
                <a href="OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="Gateway.html">
            
                <a href="Gateway.html">
            
                    
                    ZigBee Gateway Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html">
            
                    
                    Device Multi-control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Overview">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Business-Flowchart">
            
                    
                    Business Flowchart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Get-Device-Dp-Information">
            
                    
                    Get Device Dp Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Query-Related-Information-of-a-Dp">
            
                    
                    Query Related Information of a Dp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Add,Update,Delete-Multi-controll-Groups">
            
                    
                    Add Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Add,Update,Delete-Multi-controll-Groups">
            
                    
                    Update Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Enable-or-Disable-Multi-control-Group">
            
                    
                    Enable or Disable Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Query-Devices-that-Support-Multi-control">
            
                    
                    Query Devices that Support Multi-control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Get-Affiliate-Device-Details">
            
                    
                    Get Affiliate Device Details
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Shared.html">
            
                <a href="Shared.html#shared-devices">
            
                    
                    Shared Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Shared.html">
            
                <a href="Shared.html#add-device-share">
            
                    
                    Add Device Share
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Shared.html">
            
                <a href="Shared.html#getting-shared-relationships">
            
                    
                    Getting Shared Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Shared.html">
            
                <a href="Shared.html#remove-sharing">
            
                    
                    Remove Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="Shared.html">
            
                <a href="Shared.html#modify-note-name">
            
                    
                    Modify Note Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="Group.html">
            
                <a href="Group.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="Group.html">
            
                <a href="Group.html#create-group">
            
                    
                    Create Group
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.2.1" data-path="Group.html">
            
                <a href="Group.html#create-wi-fi-group">
            
                    
                    Create Wi-Fi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.2" data-path="Group.html">
            
                <a href="Group.html#create-zigbee-group">
            
                    
                    Create ZigBee Group
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="Group.html">
            
                <a href="Group.html#group-operation">
            
                    
                    Group Operation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.3.1" data-path="Group.html">
            
                <a href="Group.html#instantiation">
            
                    
                    Instantiation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.2" data-path="Group.html">
            
                <a href="Group.html#modifying-group-name">
            
                    
                    Modifying group name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.3" data-path="Group.html">
            
                <a href="Group.html#dismiss-group">
            
                    
                    Dismiss Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.4" data-path="Group.html">
            
                <a href="Group.html#sending-group-control-command">
            
                    
                    Sending group control command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.5" data-path="Group.html">
            
                <a href="Group.html#group-callback-event">
            
                    
                    Group callback event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.6" data-path="Group.html">
            
                <a href="Group.html#group-data-acquisition">
            
                    
                    Group data acquisition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#scene-condition">
            
                    
                    Scene Condition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#scene-task">
            
                    
                    Scene Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#smart-scene-management">
            
                    
                    Smart Scene Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#scene-operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Message.html">
            
                <a href="Message.html#message-center">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="Message.html">
            
                <a href="Message.html#message">
            
                    
                    Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="Message.html">
            
                <a href="Message.html#push-notification">
            
                    
                    Push Notification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Feedback.html">
            
                <a href="Feedback.html#feedback">
            
                    
                    Feedback
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-talk-list">
            
                    
                    Obtain Feedback Talk List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-list">
            
                    
                    Obtain Feedback List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-type-list">
            
                    
                    Obtain Feedback Type List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="Feedback.html">
            
                <a href="Feedback.html#add-feedback">
            
                    
                    Add Feedback
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="Push_fcm.html">
            
                <a href="Push_fcm.html">
            
                    
                    FCM Push
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="Push_umeng.html">
            
                <a href="Push_umeng.html">
            
                    
                    Umeng
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="BLE.html">
            
                <a href="BLE.html">
            
                    
                    TUYA BLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="BLE.html">
            
                <a href="BLE.html#bluetooth-low-energy">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" data-path="BLE.html">
            
                <a href="BLE.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" data-path="BLE.html">
            
                <a href="BLE.html#scan-device">
            
                    
                    Scan Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.3" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-activation">
            
                    
                    BLE Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.4" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-activation">
            
                    
                    Dual-mode Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.5" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-function">
            
                    
                    BLE Device Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.6" data-path="BLE.html">
            
                <a href="BLE.html#ble-ota">
            
                    
                    BLE OTA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.7" data-path="BLE.html">
            
                <a href="BLE.html#error-code">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#bluetooth-mesh-sig">
            
                    
                    Bluetooth Mesh (SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.5" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.6" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.7" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.8" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#bluetooth-mesh-tuya">
            
                    
                    Bluetooth Mesh (TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.6" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.7" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.8" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="ExtensionAbout.html">
            
                <a href="ExtensionAbout.html">
            
                    
                    Extension SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="Extension.html">
            
                <a href="Extension.html#ipc-sdk">
            
                    
                    IPC SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Extension.html">
            
                <a href="Extension.html#sweeper-sdk">
            
                    
                    Sweeper SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Lock.html">
            
                <a href="Lock.html#">
            
                    
                    Smart Lock SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="WiFiLockDoc.html">
            
                <a href="WiFiLockDoc.html#">
            
                    
                     Wi-Fi Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.2" data-path="BLELockDoc.html">
            
                <a href="BLELockDoc.html#">
            
                    
                    BLE Lock
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="FAQ.html">
            
                <a href="FAQ.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" data-path="Update_3_14_0.html">
            
                <a href="Update_3_14_0.html">
            
                    
                    Upgrade guide before 3.13.0 to version after 3.14.x
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Device Configuration</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#wi-fi-network-configuration"><b>1. </b>Wi-Fi Network Configuration</a></li><ul><li><span class="title-icon "></span><a href="#functional-overview"><b>1.1. </b>Functional Overview</a></li><li><span class="title-icon "></span><a href="#instructions"><b>1.2. </b>Instructions</a></li><li><span class="title-icon "></span><a href="#implementation"><b>1.3. </b>Implementation</a></li><ul><li><span class="title-icon "></span><a href="#quick-connection-mode"><b>1.3.1. </b>Quick Connection Mode</a></li><li><span class="title-icon "></span><a href="#hotspot-mode"><b>1.3.2. </b>Hotspot Mode</a></li><li><span class="title-icon "></span><a href="#camera-scan-code-network-configuration"><b>1.3.3. </b>Camera Scan Code Network Configuration</a></li><li><span class="title-icon "></span><a href="#wired-network-configuration"><b>1.3.4. </b>Wired Network Configuration</a></li><li><span class="title-icon "></span><a href="#sub-device-configuration"><b>1.3.5. </b>Sub-device Configuration</a></li><li><span class="title-icon "></span><a href="#bluetooth-configuration"><b>1.3.6. </b>Bluetooth Configuration</a></li></ul></ul></ul></div><a href="#wi-fi-network-configuration" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="wi-fi-network-configuration"><a name="wi-fi-network-configuration" class="anchor-navigation-ex-anchor" href="#wi-fi-network-configuration"><i class="fa fa-link" aria-hidden="true"></i></a>1. Wi-Fi Network Configuration</h1>
<h2 id="functional-overview"><a name="functional-overview" class="anchor-navigation-ex-anchor" href="#functional-overview"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Functional Overview</h2>
<p>The network configuration modes supported by Tuya SDK including:</p>
<ul>
<li>Quick Connection (EZ) Mode </li>
<li>Hotspot (AP) Mode</li>
<li>Camera Scan Code Network Configuration</li>
<li>Wired Network Configuration</li>
<li>Sub-device Configuration </li>
<li>Bluetooth Configuration</li>
</ul>
<table>
<thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Wi-Fi Device</td>
<td>The device that use Wi-Fi module to connect the router, and interact with APP and cloud.</td>
</tr>
<tr>
<td>EZ mode</td>
<td>Also known as the quick connection mode, the APP packs the network data packets into the designated area of the 802.11 data packets and sends them to the surrounding environment. The Wi-Fi module of the smart device is in the promiscuous model and monitors and captures all the packets in the network. According to the agreed protocol data format, it can parse out the network information packet sent by the APP.</td>
</tr>
<tr>
<td>AP mode</td>
<td>Also known as hotspot mode, the mobile phone connects the smart device&apos;s hotspot. The two parties establish a Socket connection to exchange data through the agreed port.</td>
</tr>
<tr>
<td>Camera scan code configuration network</td>
<td>The camera device obtains the configuration data information by scanning the QR code on the APP.</td>
</tr>
<tr>
<td>Wired Devices</td>
<td>Devices connected to the router via a wired network, such as ZigBee wired gateway, wired camera, etc.</td>
</tr>
<tr>
<td>sub-device</td>
<td>Devices that interact with APP and cloud data through gateways, such as ZigBee sub-devices</td>
</tr>
<tr>
<td>ZigBee</td>
<td>ZigBee technology is a short-range, low-complexity, low-power, low-speed, low-cost two-way wireless communication technology. It is mainly used for data transmission between various electronic devices with short distances, low power consumption and low transmission rates, as well as typical applications with periodic data, intermittent data and low response time data transmission.</td>
</tr>
<tr>
<td>ZigBee Gateway</td>
<td>The device that integrates the coordinator and WiFi functions in the ZigBee network is responsible for the establishment of the ZigBee network and the storage of data information.</td>
</tr>
<tr>
<td>ZigBee sub-device</td>
<td>Routing or terminal equipment in ZigBee network, responsible for data forwarding or terminal control response.</td>
</tr>
</tbody>
</table>
<h2 id="instructions"><a name="instructions" class="anchor-navigation-ex-anchor" href="#instructions"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Instructions</h2>
<p>Before developing Wi-Fi device network config, you need to understand the basic logic of TuyaHomeSDK, and have used TuyaHomeSdk to complete the basic operations such as logging in and creating a home.</p>
<h2 id="implementation"><a name="implementation" class="anchor-navigation-ex-anchor" href="#implementation"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Implementation</h2>
<h3 id="quick-connection-mode"><a name="quick-connection-mode" class="anchor-navigation-ex-anchor" href="#quick-connection-mode"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. Quick Connection Mode</h3>
<pre class="language-"><code class="lang-sequence">Title: EZ Mode

participant APP
participant Device
participant Service

Note over APP: Connect to the WiFi of router
Note over Device: Switch to the EZ mode

APP--&gt;Service: Get Token
Service--&gt;APP: Response Token

Note over APP: Start network configuration (send configuration data), broadcast configuration data
Device-&gt;Device: Get configuration data

APP--&gt;Server: Use the token to poll the list of network activation devices every 2 seconds (the total duration is 100s by default)

Device-&gt;Service: Activate the device
Service--&gt;Device: Network configuration succeeds

Server--&gt;APP: Network configuration succeeds
</code></pre>
<h4 id="initialize-parameters"><a name="initialize-parameters" class="anchor-navigation-ex-anchor" href="#initialize-parameters"><i class="fa fa-link" aria-hidden="true"></i></a><a name="initialize-parameters" class="plugin-anchor" href="#initialize-parameters"><i class="fa fa-link" aria-hidden="true"></i></a>Initialize Parameters</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">ActivatorBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActivatorBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setSsid</span><span class="token punctuation">(</span>ssid<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setContext</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setActivatorModel</span><span class="token punctuation">(</span><span class="token class-name">ActivatorModelEnum</span><span class="token punctuation">.</span>TY_EZ<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setTimeOut</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaSmartActivatorListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onActiveSuccess</span><span class="token punctuation">(</span><span class="token class-name">DeviceBean</span> devResp<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStep</span><span class="token punctuation">(</span><span class="token class-name">String</span> step<span class="token punctuation">,</span> <span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>token</td>
<td>Activation key required for Configuration</td>
</tr>
<tr>
<td>context</td>
<td>context</td>
</tr>
<tr>
<td>ssid</td>
<td>WiFi ssid</td>
</tr>
<tr>
<td>password</td>
<td>WiFi password</td>
</tr>
<tr>
<td>activatorModel</td>
<td>Configuration Mode&#xFF0C;EZ Mode&#xFF1A;ActivatorModelEnum.TY_EZ</td>
</tr>
<tr>
<td>timeout</td>
<td>Configuration timeout, default setting is 100s, unit is second</td>
</tr>
</tbody>
</table>
<p><strong>Get Network Configuration Token</strong></p>
<p>Before the Wi-Fi network configuration, the SDK needs to obtain the network configuration Token from the Tuya Cloud.
The term of validity of Token is 5 minutes, and the Token become invalid once the network configuration succeeds.
A new Token has to be obtained if you have to reconfigure network.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActivatorToken</span><span class="token punctuation">(</span>homeId<span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token class-name">ITuyaActivatorGetToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span> s1<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Family ID, please refer to the family management section for details</td>
</tr>
</tbody>
</table>
<h4 id="configuration-method-invocation"><a name="configuration-method-invocation" class="anchor-navigation-ex-anchor" href="#configuration-method-invocation"><i class="fa fa-link" aria-hidden="true"></i></a><a name="configuration-method-invocation" class="plugin-anchor" href="#configuration-method-invocation"><i class="fa fa-link" aria-hidden="true"></i></a>Configuration Method Invocation</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaActivator</span> mTuyaActivator <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newMultiActivator</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Start configuration</span>
mTuyaActivator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Stop configuration</span>
mTuyaActivator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//Exit the page to destroy some cache data and monitoring data.</span>
mTuyaActivator<span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="hotspot-mode"><a name="hotspot-mode" class="anchor-navigation-ex-anchor" href="#hotspot-mode"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. Hotspot Mode</h3>
<pre class="language-"><code class="lang-sequence">Title: AP Mode

participant APP
participant Device
participant Service

Note over Device: Switch to the AP mode

APP--&gt;Service: Get Token
Service--&gt;APP: Response Token

Note over APP: Connect the hotspot device

APP-&gt;Device: Start network configuration (send configuration data), send configuration data

APP--&gt;Server: Use the token to poll the list of network activation devices every 2 seconds (the total duration is 100s by default)

Note over Device: Device turns off hotspot automatically
Note over Device: The device is connected to the Wi-Fi of router

Device-&gt;Service: Activate the device
Service--&gt;Device: Network configuration succeeds

Server--&gt;APP: Network configuration succeeds
</code></pre>
<h4 id="initialize-parameters_1"><a name="initialize-parameters_1" class="anchor-navigation-ex-anchor" href="#initialize-parameters_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="initialize-parameters" class="plugin-anchor" href="#initialize-parameters"><i class="fa fa-link" aria-hidden="true"></i></a>Initialize Parameters</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">ActivatorBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActivatorBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setContext</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setSsid</span><span class="token punctuation">(</span>ssid<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setActivatorModel</span><span class="token punctuation">(</span><span class="token class-name">ActivatorModelEnum</span><span class="token punctuation">.</span>TY_AP<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setTimeOut</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaSmartActivatorListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onActiveSuccess</span><span class="token punctuation">(</span><span class="token class-name">DeviceBean</span> devResp<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStep</span><span class="token punctuation">(</span><span class="token class-name">String</span> step<span class="token punctuation">,</span> <span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>token</td>
<td>Activation key required for Configuration</td>
</tr>
<tr>
<td>context</td>
<td>context</td>
</tr>
<tr>
<td>ssid</td>
<td>Wi-Fi ssid</td>
</tr>
<tr>
<td>password</td>
<td>Wi-Fi password</td>
</tr>
<tr>
<td>activatorModel</td>
<td>Configuration Mode&#xFF0C;AP Mode&#xFF1A;ActivatorModelEnum.TY_AP</td>
</tr>
<tr>
<td>timeout</td>
<td>Configuration timeout, default setting is 100s, unit is second</td>
</tr>
</tbody>
</table>
<p><strong>Get Network Configuration Token</strong></p>
<p>Before the Wi-Fi network configuration, the SDK needs to obtain the network configuration Token from the Tuya Cloud.
The term of validity of Token is 5 minutes, and the Token become invalid once the network configuration succeeds.
A new Token has to be obtained if you have to reconfigure network.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActivatorToken</span><span class="token punctuation">(</span>homeId<span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token class-name">ITuyaActivatorGetToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span> s1<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Family ID, please refer to the family management section for details</td>
</tr>
</tbody>
</table>
<h4 id="configuration-method-invocation_1"><a name="configuration-method-invocation_1" class="anchor-navigation-ex-anchor" href="#configuration-method-invocation_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="configuration-method-invocation" class="plugin-anchor" href="#configuration-method-invocation"><i class="fa fa-link" aria-hidden="true"></i></a>Configuration Method Invocation</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaActivator</span> mTuyaActivator <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newActivator</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Start configuration</span>
mTuyaActivator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//Stop configuration</span>
mTuyaActivator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">//Exit the page to destroy some cache data and monitoring data.</span>
mTuyaActivator<span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="camera-scan-code-network-configuration"><a name="camera-scan-code-network-configuration" class="anchor-navigation-ex-anchor" href="#camera-scan-code-network-configuration"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.3. Camera Scan Code Network Configuration</h3>
<h4 id="description"><a name="description" class="anchor-navigation-ex-anchor" href="#description"><i class="fa fa-link" aria-hidden="true"></i></a><a name="description" class="plugin-anchor" href="#description"><i class="fa fa-link" aria-hidden="true"></i></a>Description</h4>
<p>Use the camera device to scan the QR code of the APP to transfer the Configuration information to active and bind the camera device.</p>
<pre class="language-"><code class="lang-sequence">
Title: Camera scan code Network Configuration

participant APP
participant Camera
participant Server

Note over APP: Connect to the router 
Note over Camera: resetting the device status
APP--&gt;Server: Get Token
Server--&gt;APP: Response Token

Note over APP: Generate QR code through ssid / password / token

Camera--&gt;APP: Get the ssid / password / token by scanning the QR code on the APP
APP--&gt;Server: Use the token to poll the list of network activation devices every 2 seconds (the total duration is 100s by default)
Camera--&gt;Server: Activate the device
Server--&gt;Camera: Network configuration succeeds

Server--&gt;APP: Network configuration succeeds
</code></pre>
<h4 id="initialize-parameters_2"><a name="initialize-parameters_2" class="anchor-navigation-ex-anchor" href="#initialize-parameters_2"><i class="fa fa-link" aria-hidden="true"></i></a><a name="initialize-parameters" class="plugin-anchor" href="#initialize-parameters"><i class="fa fa-link" aria-hidden="true"></i></a>Initialize Parameters</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaCameraActivatorBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TuyaCameraActivatorBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">setContext</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">setSsid</span><span class="token punctuation">(</span>ssid<span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">setTimeOut</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">setListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaSmartCameraActivatorListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token annotation punctuation">@Override</span>
             <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onQRCodeSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> qrcodeUrl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                 <span class="token comment">//Return URL link to generate QR code</span>
             <span class="token punctuation">}</span>

             <span class="token annotation punctuation">@Override</span>
             <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                 <span class="token comment">//Network configuration failed</span>
             <span class="token punctuation">}</span>

             <span class="token annotation punctuation">@Override</span>
             <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onActiveSuccess</span><span class="token punctuation">(</span><span class="token class-name">DeviceBean</span> devResp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//Network configuration succeed    </span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>token</td>
<td>Activation key required for Configuration</td>
</tr>
<tr>
<td>context</td>
<td>context</td>
</tr>
<tr>
<td>ssid</td>
<td>WiFi ssid</td>
</tr>
<tr>
<td>password</td>
<td>WiFi password</td>
</tr>
<tr>
<td>timeout</td>
<td>Configuration timeout, default setting is 100s, unit is second</td>
</tr>
</tbody>
</table>
<p><strong>Get Network Configuration Token</strong></p>
<p>Before the Wi-Fi network configuration, the SDK needs to obtain the network configuration Token from the Tuya Cloud.
The term of validity of Token is 5 minutes, and the Token become invalid once the network configuration succeeds.
A new Token has to be obtained if you have to reconfigure network.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActivatorToken</span><span class="token punctuation">(</span>homeId<span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token class-name">ITuyaActivatorGetToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span> s1<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Family ID, please refer to the family management section for details</td>
</tr>
</tbody>
</table>
<h4 id="configuration-method-invocation_2"><a name="configuration-method-invocation_2" class="anchor-navigation-ex-anchor" href="#configuration-method-invocation_2"><i class="fa fa-link" aria-hidden="true"></i></a><a name="configuration-method-invocation" class="plugin-anchor" href="#configuration-method-invocation"><i class="fa fa-link" aria-hidden="true"></i></a>Configuration Method Invocation</h4>
<ul>
<li>Instance class</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaCameraDevActivator</span> mTuyaActivator <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newCameraDevActivator</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Get QR code URL link</li>
</ul>
<pre class="language-"><code class="lang-java">mTuyaActivator<span class="token punctuation">.</span><span class="token function">createQRCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Return via onQRCodeSuccess callback</span>
</code></pre>
<ul>
<li>Generate QR code based on url</li>
</ul>
<p>Examples&#xFF1A;Need to implement zxing&#xFF08; implementation &apos;com.google.zxing:core:3.2.1&apos; &#xFF09;</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Bitmap</span> <span class="token function">createQRCode</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token keyword">int</span> widthAndHeight<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">WriterException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Hashtable</span> hints <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashtable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hints<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">.</span>CHARACTER_SET<span class="token punctuation">,</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hints<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">EncodeHintType</span><span class="token punctuation">.</span>MARGIN<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BitMatrix</span> matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MultiFormatWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>
                <span class="token class-name">BarcodeFormat</span><span class="token punctuation">.</span>QR_CODE<span class="token punctuation">,</span> widthAndHeight<span class="token punctuation">,</span> widthAndHeight<span class="token punctuation">,</span> hints<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> width <span class="token operator">=</span> matrix<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> height <span class="token operator">=</span> matrix<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pixels <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>width <span class="token operator">*</span> height<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> height<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> width<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>matrix<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    pixels<span class="token punctuation">[</span>y <span class="token operator">*</span> width <span class="token operator">+</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Bitmap</span> bitmap <span class="token operator">=</span> <span class="token class-name">Bitmap</span><span class="token punctuation">.</span><span class="token function">createBitmap</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span>
                <span class="token class-name">Bitmap</span><span class="token punctuation">.</span><span class="token class-name">Config</span><span class="token punctuation">.</span>ARGB_8888<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bitmap<span class="token punctuation">.</span><span class="token function">setPixels</span><span class="token punctuation">(</span>pixels<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bitmap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>
<ul>
<li>Start configuration</li>
</ul>
<pre class="language-"><code class="lang-java">mTuyaActivator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Stop configuration</li>
</ul>
<pre class="language-"><code class="lang-java">mTuyaActivator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Exit the page to destroy some cache data and monitoring data</li>
</ul>
<pre class="language-"><code class="lang-java">mTuyaActivator<span class="token punctuation">.</span><span class="token function">onDestory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="wired-network-configuration"><a name="wired-network-configuration" class="anchor-navigation-ex-anchor" href="#wired-network-configuration"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.4. Wired Network Configuration</h3>
<h4 id="description_1"><a name="description_1" class="anchor-navigation-ex-anchor" href="#description_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="description" class="plugin-anchor" href="#description"><i class="fa fa-link" aria-hidden="true"></i></a>Description</h4>
<p>Wired device refers to the connection of the router through a wired network, without entering the hotspot name and password of the router during the network configuration. The ZigBee cable gateway is used to introduce the cable configuration network business process.</p>
<pre class="language-"><code class="lang-sequence">Title: Zigbee Gateway Configuration

participant APP
participant ZigBee Gateway
participant Service

Note over ZigBee Gateway: Reset ZigBee Gateway

APP--&gt;Service: Get Token
Service--&gt;APP: Response Token

APP -&gt; APP: connect mobile phone to the same hotspot of the Gateway

Device--&gt;APP: broadcast configuration data
APP--&gt;APP: Receive Gateway information and active status

APP--&gt;ZigBee Gateway: sends the activation instruction
APP--&gt;Server: Use the token to poll the list of network activation devices every 2 seconds (the total duration is 100s by default)

Note over ZigBee Gateway: device receives the activation data

ZigBee Gateway-&gt;Service: activate the device
Service--&gt;ZigBee Gateway: network configuration succeeds

Server--&gt;APP: Network configuration succeeds
</code></pre>
<h4 id="initialize-parameters_3"><a name="initialize-parameters_3" class="anchor-navigation-ex-anchor" href="#initialize-parameters_3"><i class="fa fa-link" aria-hidden="true"></i></a><a name="initialize-parameters" class="plugin-anchor" href="#initialize-parameters"><i class="fa fa-link" aria-hidden="true"></i></a>Initialize Parameters</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaActivator</span> mITuyaActivator <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newGwActivator</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">TuyaGwActivatorBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setTimeOut</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setContext</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaSmartActivatorListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token punctuation">}</span>

                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onActiveSuccess</span><span class="token punctuation">(</span><span class="token class-name">DeviceBean</span> devResp<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token punctuation">}</span>

                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStep</span><span class="token punctuation">(</span><span class="token class-name">String</span> step<span class="token punctuation">,</span> <span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>token</td>
<td>Activation key required for Configuration</td>
</tr>
<tr>
<td>timeout</td>
<td>Configuration timeout, default setting is 100s, unit is second</td>
</tr>
<tr>
<td>context</td>
<td>context</td>
</tr>
</tbody>
</table>
<p><strong>Get Network Configuration Token</strong></p>
<p>Before the Wi-Fi network configuration, the SDK needs to obtain the network configuration Token from the Tuya Cloud.
The term of validity of Token is 5 minutes, and the Token become invalid once the network configuration succeeds.
A new Token has to be obtained if you have to reconfigure network.</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActivatorToken</span><span class="token punctuation">(</span>homeId<span class="token punctuation">,</span> 
        <span class="token keyword">new</span> <span class="token class-name">ITuyaActivatorGetToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFailure</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span> s1<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Family ID, please refer to the family management section for details</td>
</tr>
</tbody>
</table>
<h4 id="configuration-method-invocation_3"><a name="configuration-method-invocation_3" class="anchor-navigation-ex-anchor" href="#configuration-method-invocation_3"><i class="fa fa-link" aria-hidden="true"></i></a><a name="configuration-method-invocation" class="plugin-anchor" href="#configuration-method-invocation"><i class="fa fa-link" aria-hidden="true"></i></a>Configuration Method Invocation</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaActivator</span> mITuyaActivator <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newGwActivator</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//&#x5F00;&#x59CB;&#x914D;&#x7F51;</span>
mITuyaActivator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//&#x505C;&#x6B62;&#x914D;&#x7F51;</span>
mITuyaActivator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//&#x9000;&#x51FA;&#x9875;&#x9762;&#x6E05;&#x7406;</span>
mITuyaActivator<span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="sub-device-configuration"><a name="sub-device-configuration" class="anchor-navigation-ex-anchor" href="#sub-device-configuration"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.5. Sub-device Configuration</h3>
<h4 id="description_2"><a name="description_2" class="anchor-navigation-ex-anchor" href="#description_2"><i class="fa fa-link" aria-hidden="true"></i></a><a name="description" class="plugin-anchor" href="#description"><i class="fa fa-link" aria-hidden="true"></i></a>Description</h4>
<p>The sub-device configuration network can only be initiated when the gateway device cloud is online, and the sub-device is in the network configuration state. The following uses the ZigBee gateway sub-device as an example to introduce the configuration network business process</p>
<pre class="language-"><code class="lang-sequence">Title: Zigbee sub-device configuration

participant APP
participant SDK
participant Zigbee Gateway
participant Service

Note over Zigbee Gateway: Reset zigbee sub device
APP-&gt;SDK: sends the subdevice activation instruction
SDK-&gt;Zigbee Gateway: sends the activation instruction

Note over Zigbee Gateway: zigbee gateway receives the activation data

Zigbee Gateway-&gt;Service: activate the sub device
Service--&gt;Zigbee Gateway: network configuration succeeds

Zigbee Gateway--&gt;SDK: network configuration succeeds
SDK--&gt;APP: network configuration succeeds
</code></pre>
<h4 id="initialize-parameters_4"><a name="initialize-parameters_4" class="anchor-navigation-ex-anchor" href="#initialize-parameters_4"><i class="fa fa-link" aria-hidden="true"></i></a><a name="initialize-parameters" class="plugin-anchor" href="#initialize-parameters"><i class="fa fa-link" aria-hidden="true"></i></a>Initialize Parameters</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">TuyaGwSubDevActivatorBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TuyaGwSubDevActivatorBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setDevId</span><span class="token punctuation">(</span>mDevId<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setTimeOut</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaSmartActivatorListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onActiveSuccess</span><span class="token punctuation">(</span><span class="token class-name">DeviceBean</span> devResp<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>

                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStep</span><span class="token punctuation">(</span><span class="token class-name">String</span> step<span class="token punctuation">,</span> <span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>mDevId</td>
<td>Setting the gateway ID</td>
</tr>
<tr>
<td>timeout</td>
<td>Setting the time-out period for network configuration</td>
</tr>
</tbody>
</table>
<h4 id="configuration-method-invocation_4"><a name="configuration-method-invocation_4" class="anchor-navigation-ex-anchor" href="#configuration-method-invocation_4"><i class="fa fa-link" aria-hidden="true"></i></a><a name="configuration-method-invocation" class="plugin-anchor" href="#configuration-method-invocation"><i class="fa fa-link" aria-hidden="true"></i></a>Configuration Method Invocation</h4>
<pre class="language-"><code class="lang-java"><span class="token class-name">ITuyaActivator</span> mTuyaGWActivator <span class="token operator">=</span> <span class="token class-name">TuyaHomeSdk</span><span class="token punctuation">.</span><span class="token function">getActivatorInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">newGwSubDevActivator</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Start network configuration</span>
mTuyaGWActivator<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Stop network configuration</span>
mTuyaGWActivator<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Destroy</span>
mTuyaGWActivator<span class="token punctuation">.</span><span class="token function">onDestory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="bluetooth-configuration"><a name="bluetooth-configuration" class="anchor-navigation-ex-anchor" href="#bluetooth-configuration"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.6. Bluetooth Configuration</h3>
<p>For Bluetooth device configuration, you can refer to <a href="BLE.html">the document BLE</a>.</p>
<p><div id="gitalk-container"></div><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script>window.onload = function() {gitbook.events.on("page.change", function() {var gitalk = new Gitalk({"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true,"id":"/resource/Activator_device.html"});gitalk.render("gitalk-container");});};var gitalk = new Gitalk({"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true,"id":"/resource/Activator_device.html"});gitalk.render("gitalk-container");</script></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="FamilyManager.html#home-weather" class="navigation navigation-prev " aria-label="Previous page: Home's Weather">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Activator_device.html#functional-overview" class="navigation navigation-next " aria-label="Next page: Functional Overview">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Device Configuration","level":"1.7","depth":1,"next":{"title":"Functional Overview","level":"1.7.1","depth":2,"anchor":"#functional-overview","path":"resource/Activator_device.md","ref":"./resource/Activator_device.md#functional-overview","articles":[]},"previous":{"title":"Home's Weather","level":"1.6.5","depth":2,"anchor":"#home-weather","path":"resource/FamilyManager.md","ref":"./resource/FamilyManager.md#home-weather","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","github-buttons","anchor-navigation-ex","flexible-alerts","ga","expandable-chapters-small","favicon","pageview-count","gtalk","language-picker","hide-element","sf-score","mermaid-gb3"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"java":"java"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_android_sdk"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"gtalk":{"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true},"mermaid-gb3":{},"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"favicon":{"shortcut":"zh-hans/resource/images/bitbug_favicon.ico"},"pageview-count":{},"github-buttons":{"buttons":[{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"star","size":"small"},{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"watch","size":"small"},{"user":"TuyaInc","type":"follow","size":"small","count":true}]},"sf-score":{},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":{"zh-hans":"æ³¨æ","en":"Attention"}},"note":{"className":"info","icon":"fa fa-info-circle","label":{"zh-hans":"æç¤º","en":"Note"}},"style":"flat","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":{"zh-hans":"Tips","en":"Tip"}},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":{"zh-hans":"è­¦å","en":"Warning"}}},"ga":{"configuration":"auto","token":"UA-161421048-1"},"sharing":{"facebook":true,"twitter":true,"google":true,"weibo":true,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/Activator_device.md","mtime":"2020-06-08T11:59:55.727Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-06-12T22:58:16.927Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sf-score/lib/scorePlugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script src="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

