
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>BLE Lock Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-gtalk/gtalk.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sf-score/style/scorePlugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    


    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="CommonInterface.html" />
    
    
    <link rel="prev" href="WiFiLockDoc.html" />
    

    
        <link rel="shortcut icon" href='../zh-hans/resource/images/bitbug_favicon.ico' type="image/x-icon">
    
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"star","size":"small"},{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"watch","size":"small"},{"user":"TuyaInc","type":"follow","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Features Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Demo.html">
            
                <a href="Demo.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="User_mobile.html">
            
                <a href="User_mobile.html">
            
                    
                    Use Mobile Phone for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="User_email.html">
            
                <a href="User_email.html">
            
                    
                    Use Email for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="User_uid.html">
            
                <a href="User_uid.html">
            
                    
                    Use Uid for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="User_ThirdLogin.html">
            
                <a href="User_ThirdLogin.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="User_Auth2.html">
            
                <a href="User_Auth2.html">
            
                    
                    Login by Auth2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="User_qrlogin.html">
            
                <a href="User_qrlogin.html">
            
                    
                    QR code authorization login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="User_update.html">
            
                <a href="User_update.html">
            
                    
                    Modify User Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="User_logout.html">
            
                <a href="User_logout.html">
            
                    
                    Logout, Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="User_model.html">
            
                <a href="User_model.html">
            
                    
                    User Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="User_Session.html">
            
                <a href="User_Session.html">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="HomeAbout.html">
            
                <a href="HomeAbout.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#home-relationship-management">
            
                    
                    Home Relationship Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#family-management">
            
                    
                    Operation of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#family-member-management">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#room-information-management">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="FamilyManager.html">
            
                <a href="FamilyManager.html#home-weather">
            
                    
                    Home's Weather
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Activator_device.html">
            
                <a href="Activator_device.html">
            
                    
                    Device Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Activator_device.html">
            
                <a href="Activator_device.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Activator_device.html">
            
                <a href="Activator_device.html#instructions">
            
                    
                    Instructions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Activator_device.html">
            
                <a href="Activator_device.html#implementation">
            
                    
                    Implementation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.3.1" data-path="Activator_device.html">
            
                <a href="Activator_device.html#quick-connection-mode">
            
                    
                    Quick Connection Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.2" data-path="Activator_device.html">
            
                <a href="Activator_device.html#hotspot-mode">
            
                    
                    Hotspot Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.3" data-path="Activator_device.html">
            
                <a href="Activator_device.html#camera-scan-code-network-configuration">
            
                    
                    Camera Scan Code Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.4" data-path="Activator_device.html">
            
                <a href="Activator_device.html#wired-network-configuration">
            
                    
                    Wired Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.5" data-path="Activator_device.html">
            
                <a href="Activator_device.html#sub-device-configuration">
            
                    
                    Sub-device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.6" data-path="Activator_device.html">
            
                <a href="Activator_device.html#scan-the-qr-code-of-the-device-configuration">
            
                    
                    Scan The QR Code Of The Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.7" data-path="Activator_device.html">
            
                <a href="Activator_device.html#bluetooth-configuration">
            
                    
                    Bluetooth Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Device.html">
            
                <a href="Device.html#device-management">
            
                    
                    Device Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Device.html">
            
                <a href="Device.html#initialize-device">
            
                    
                    Initialize Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Device.html">
            
                <a href="Device.html#device-data-listener">
            
                    
                    Device Data Listener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Device.html">
            
                <a href="Device.html#functions-of-device">
            
                    
                    Functions of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="Device.html">
            
                <a href="Device.html#querying-device-information">
            
                    
                    Querying Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="Device.html">
            
                <a href="Device.html#modify-the-device-name">
            
                    
                    Modify the Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="Device.html">
            
                <a href="Device.html#restore-factory-settings">
            
                    
                    Restore Factory Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="Device.html">
            
                <a href="Device.html#obtain-wi-fi-signal-strength">
            
                    
                    Obtain Wi-Fi Signal Strength
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="Device.html">
            
                <a href="Device.html#recycling-device-resources">
            
                    
                    Recycling Device Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="OTA.html">
            
                <a href="OTA.html">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="Gateway.html">
            
                <a href="Gateway.html">
            
                    
                    ZigBee Gateway Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html">
            
                    
                    Device Multi-control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Overview">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Business-Flowchart">
            
                    
                    Business Flowchart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Get-Device-Dp-Information">
            
                    
                    Get Device Dp Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Query-Related-Information-of-a-Dp">
            
                    
                    Query Related Information of a Dp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Add,Update,Delete-Multi-controll-Groups">
            
                    
                    Add Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Add,Update,Delete-Multi-controll-Groups">
            
                    
                    Update Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Enable-or-Disable-Multi-control-Group">
            
                    
                    Enable or Disable Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Query-Devices-that-Support-Multi-control">
            
                    
                    Query Devices that Support Multi-control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="DeviceMultiControl.html">
            
                <a href="DeviceMultiControl.html#Get-Affiliate-Device-Details">
            
                    
                    Get Affiliate Device Details
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Shared.html">
            
                <a href="Shared.html#shared-devices">
            
                    
                    Shared Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Shared.html">
            
                <a href="Shared.html#add-device-share">
            
                    
                    Add Device Share
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Shared.html">
            
                <a href="Shared.html#getting-shared-relationships">
            
                    
                    Getting Shared Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Shared.html">
            
                <a href="Shared.html#remove-sharing">
            
                    
                    Remove Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="Shared.html">
            
                <a href="Shared.html#modify-note-name">
            
                    
                    Modify Note Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="Group.html">
            
                <a href="Group.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="Group.html">
            
                <a href="Group.html#create-group">
            
                    
                    Create Group
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.2.1" data-path="Group.html">
            
                <a href="Group.html#create-wi-fi-group">
            
                    
                    Create Wi-Fi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2.2" data-path="Group.html">
            
                <a href="Group.html#create-zigbee-group">
            
                    
                    Create ZigBee Group
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="Group.html">
            
                <a href="Group.html#group-operation">
            
                    
                    Group Operation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.3.1" data-path="Group.html">
            
                <a href="Group.html#instantiation">
            
                    
                    Instantiation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.2" data-path="Group.html">
            
                <a href="Group.html#modifying-group-name">
            
                    
                    Modifying group name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.3" data-path="Group.html">
            
                <a href="Group.html#dismiss-group">
            
                    
                    Dismiss Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.4" data-path="Group.html">
            
                <a href="Group.html#sending-group-control-command">
            
                    
                    Sending group control command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.5" data-path="Group.html">
            
                <a href="Group.html#group-callback-event">
            
                    
                    Group callback event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3.6" data-path="Group.html">
            
                <a href="Group.html#group-data-acquisition">
            
                    
                    Group data acquisition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#scene-condition">
            
                    
                    Scene Condition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#scene-task">
            
                    
                    Scene Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#smart-scene-management">
            
                    
                    Smart Scene Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#scene-operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Message.html">
            
                <a href="Message.html#message-center">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="Message.html">
            
                <a href="Message.html#message">
            
                    
                    Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="Message.html">
            
                <a href="Message.html#push-notification">
            
                    
                    Push Notification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Feedback.html">
            
                <a href="Feedback.html#feedback">
            
                    
                    Feedback
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-talk-list">
            
                    
                    Obtain Feedback Talk List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-list">
            
                    
                    Obtain Feedback List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-type-list">
            
                    
                    Obtain Feedback Type List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="Feedback.html">
            
                <a href="Feedback.html#add-feedback">
            
                    
                    Add Feedback
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="Push_fcm.html">
            
                <a href="Push_fcm.html">
            
                    
                    FCM Push
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="Push_umeng.html">
            
                <a href="Push_umeng.html">
            
                    
                    Umeng
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="BLE.html">
            
                <a href="BLE.html">
            
                    
                    TUYA BLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="BLE.html">
            
                <a href="BLE.html#bluetooth-low-energy">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" data-path="BLE.html">
            
                <a href="BLE.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" data-path="BLE.html">
            
                <a href="BLE.html#scan-device">
            
                    
                    Scan Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.3" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-activation">
            
                    
                    BLE Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.4" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-activation">
            
                    
                    Dual-mode Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.5" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-function">
            
                    
                    BLE Device Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.6" data-path="BLE.html">
            
                <a href="BLE.html#ble-ota">
            
                    
                    BLE OTA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.7" data-path="BLE.html">
            
                <a href="BLE.html#error-code">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#bluetooth-mesh-sig">
            
                    
                    Bluetooth Mesh (SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.5" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.6" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.7" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.8" data-path="Mesh_SIG.html">
            
                <a href="Mesh_SIG.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#bluetooth-mesh-tuya">
            
                    
                    Bluetooth Mesh (TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.6" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.7" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.8" data-path="Mesh_Tuya.html">
            
                <a href="Mesh_Tuya.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="ExtensionAbout.html">
            
                <a href="ExtensionAbout.html">
            
                    
                    Extension SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="ipc/">
            
                <a href="ipc/">
            
                    
                    IPC SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="ipc/Integrated.html">
            
                <a href="ipc/Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="ipc/ProgramArchitecure.html">
            
                <a href="ipc/ProgramArchitecure.html">
            
                    
                    SDK Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.3" data-path="ipc/home_device.html">
            
                <a href="ipc/home_device.html#Camera device">
            
                    
                    Camera Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.4" data-path="ipc/wifi_config.html">
            
                <a href="ipc/wifi_config.html">
            
                    
                    Device Configutation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5" data-path="ipc/LiveProcess.html">
            
                <a href="ipc/LiveProcess.html">
            
                    
                    Camera Functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.5.1" data-path="ipc/LiveProcess.html">
            
                <a href="ipc/LiveProcess.html#Live video">
            
                    
                    Live Video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.2" data-path="ipc/PlaybackProcess.html">
            
                <a href="ipc/PlaybackProcess.html">
            
                    
                    Playback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.3" data-path="ipc/av_function.html">
            
                <a href="ipc/av_function.html">
            
                    
                    AV Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.6" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html">
            
                    
                    Cloud Storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.6.1" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#Process">
            
                    
                    Flow Chart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.6.2" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#Purchase">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.6.3" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#Cloud video">
            
                    
                    Cloud Video
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.7" data-path="ipc/camera_device_points.html">
            
                <a href="ipc/camera_device_points.html#Device function points">
            
                    
                    Extension Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.7.1" data-path="ipc/camera_device_points.html">
            
                <a href="ipc/camera_device_points.html#Function points constant">
            
                    
                    Data Point Id
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.2" data-path="ipc/doorbell.html">
            
                <a href="ipc/doorbell.html">
            
                    
                    Doorbell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.3" data-path="ipc/sd_card.html">
            
                <a href="ipc/sd_card.html">
            
                    
                    Memory Card
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.4" data-path="ipc/ptz.html">
            
                <a href="ipc/ptz.html">
            
                    
                    PTZ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.8" data-path="ipc/Camera_Message_Center.html">
            
                <a href="ipc/Camera_Message_Center.html#Detection alarm">
            
                    
                    Detection Alarm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.8.1" data-path="ipc/Camera_Message_Center.html">
            
                <a href="ipc/Camera_Message_Center.html#Message List">
            
                    
                    Message List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.8.2" data-path="ipc/Camera_Message_Center.html">
            
                <a href="ipc/Camera_Message_Center.html#Video message">
            
                    
                    Video Message
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.9" data-path="ipc/statusCode.html">
            
                <a href="ipc/statusCode.html">
            
                    
                    Error Codes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.10" data-path="ipc/doc_update_log.html">
            
                <a href="ipc/doc_update_log.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="sweeper/Overview.html">
            
                <a href="sweeper/Overview.html">
            
                    
                    Sweeper SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1" data-path="sweeper/Gyro_Sweeper.html">
            
                <a href="sweeper/Gyro_Sweeper.html">
            
                    
                    Gyroscope and Visual Sweeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.2" data-path="sweeper/Laser_Sweeper.html">
            
                <a href="sweeper/Laser_Sweeper.html">
            
                    
                    Laser Sweeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.3" data-path="sweeper/Voice_Download.html">
            
                <a href="sweeper/Voice_Download.html">
            
                    
                    Voice Package Download
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.4" data-path="sweeper/Word_Introduction.html">
            
                <a href="sweeper/Word_Introduction.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.5" data-path="sweeper/Update_Log.html">
            
                <a href="sweeper/Update_Log.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Lock.html">
            
                <a href="Lock.html#">
            
                    
                    Smart Lock SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="WiFiLockDoc.html">
            
                <a href="WiFiLockDoc.html">
            
                    
                     Wi-Fi Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.1.3.2" data-path="BLELockDoc.html">
            
                <a href="BLELockDoc.html">
            
                    
                    BLE Lock
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="FAQ.html">
            
                <a href="FAQ.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="Update_3_14_0.html">
            
                <a href="Update_3_14_0.html">
            
                    
                    Upgrade guide before 3.13.0 to version after 3.14.x
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >BLE Lock</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#tuya-ble-lock-instructions"><b>1. </b>Tuya BLE Lock Instructions</a></li><ul><li><span class="title-icon "></span><a href="#term-explanation"><b>1.1. </b>Term Explanation</a></li><li><span class="title-icon "></span><a href="#description"><b>1.2. </b>Description</a></li><li><span class="title-icon "></span><a href="#member-management"><b>1.3. </b>Member Management</a></li><ul><li><span class="title-icon "></span><a href="#get-lock-members"><b>1.3.1. </b>Get Lock Members</a></li><li><span class="title-icon "></span><a href="#create-lock-member"><b>1.3.2. </b>Create Lock Member</a></li><li><span class="title-icon "></span><a href="#update-lock-member"><b>1.3.3. </b>Update Lock Member</a></li><li><span class="title-icon "></span><a href="#delete-lock-member"><b>1.3.4. </b>Delete Lock Member</a></li></ul><li><span class="title-icon "></span><a href="#device-bluetooth-connection-status"><b>1.4. </b>Device Bluetooth Connection Status</a></li><ul><li><span class="title-icon "></span><a href="#determine-the-lock-is-connected"><b>1.4.1. </b>Determine the Lock Is Connected</a></li><li><span class="title-icon "></span><a href="#connect-bluetooth-door-lock"><b>1.4.2. </b>Connect Bluetooth Door Lock</a></li></ul><li><span class="title-icon "></span><a href="#dynamic-password"><b>1.5. </b>Dynamic Password</a></li><ul><li><span class="title-icon "></span><a href="#get-dynamic-password"><b>1.5.1. </b>Get Dynamic Password</a></li></ul><li><span class="title-icon "></span><a href="#bluetooth-unlock--lock"><b>1.6. </b>Bluetooth Unlock &amp; Lock</a></li><ul><li><span class="title-icon "></span><a href="#unlock-via-bluetooth"><b>1.6.1. </b>Unlock via Bluetooth</a></li><li><span class="title-icon "></span><a href="#lock-via-bluetooth"><b>1.6.2. </b>Lock via Bluetooth</a></li></ul><li><span class="title-icon "></span><a href="#lock-records"><b>1.7. </b>Lock Records</a></li><ul><li><span class="title-icon "></span><a href="#get-alarm-records"><b>1.7.1. </b>Get Alarm Records</a></li><li><span class="title-icon "></span><a href="#get-unlocked-records"><b>1.7.2. </b>Get Unlocked Records</a></li></ul><li><span class="title-icon "></span><a href="#unlock-mode-management"><b>1.8. </b>Unlock Mode Management</a></li><ul><li><span class="title-icon "></span><a href="#get-unlock-modes"><b>1.8.1. </b>Get Unlock Modes</a></li><li><span class="title-icon "></span><a href="#register-unlock-mode-listener"><b>1.8.2. </b>Register Unlock Mode Listener</a></li><li><span class="title-icon "></span><a href="#add-unlock-mode"><b>1.8.3. </b>Add Unlock Mode</a></li><li><span class="title-icon "></span><a href="#update-unlock-mode-info"><b>1.8.4. </b>Update Unlock Mode Info</a></li><li><span class="title-icon "></span><a href="#delete-unlock-mode"><b>1.8.5. </b>Delete Unlock Mode</a></li><li><span class="title-icon "></span><a href="#fingerprint-entry-canceled"><b>1.8.6. </b>Fingerprint Entry Canceled</a></li><li><span class="title-icon "></span><a href="#update-the-unlock-mode-of-password-type"><b>1.8.7. </b>Update the Unlock Mode of Password Type</a></li></ul><li><span class="title-icon "></span><a href="#ble-door-lock-function-points"><b>1.9. </b>BLE Door Lock Function Points</a></li></ul></ul></div><a href="#tuya-ble-lock-instructions" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="tuya-ble-lock-instructions"><a name="tuya-ble-lock-instructions" class="anchor-navigation-ex-anchor" href="#tuya-ble-lock-instructions"><i class="fa fa-link" aria-hidden="true"></i></a>1. Tuya BLE Lock Instructions</h1>
<h2 id="term-explanation"><a name="term-explanation" class="anchor-navigation-ex-anchor" href="#term-explanation"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Term Explanation</h2>
<table>
<thead>
<tr>
<th>Term</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>dpCode</td>
<td>The identifier of the device function point. Each function point in the device has a name and number. Please refer to <a href="#ble-door-lock-function-points">BLE Door Lock Function Points</a></td>
</tr>
<tr>
<td>hijack</td>
<td>Door lock hijacking refers to setting a specific password (fingerprint, password, etc.) as the hijacking password. <br> When the user enters this password to open the door, the door lock considers the user to open the door involuntarily, and sends the alarm information to the family&apos;s mobile phone or property management system.</td>
</tr>
<tr>
<td>door lock member</td>
<td>Door lock members are divided into family members and non-family members. <br> Family members are members who are added to the user&apos;s family. The door lock can be used to manage family members and set the unlock mode. <br> Non-family members are members created in door locks and can be managed through door lock related interfaces.</td>
</tr>
<tr>
<td>lockUserId and userId</td>
<td><code>lockUserId</code> is the firmware member id assigned to the device by the cloud when creating the door lock member. <br><code>userId</code> is the database record id assigned by the cloud when creating the door lock member, means the user&apos;s unique id</td>
</tr>
</tbody>
</table>
<h2 id="description"><a name="description" class="anchor-navigation-ex-anchor" href="#description"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Description</h2>
<table>
<thead>
<tr>
<th>Class Name</th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TuyaOptimusSdk</code></td>
<td>SDK init class, used to create <code>ITuyaLockManager</code></td>
</tr>
<tr>
<td><code>ITuyaLockManager</code></td>
<td>Lock manager class, used to create <code>ITuyaBleLock</code></td>
</tr>
<tr>
<td><code>ITuyaBleLock</code></td>
<td>BLE door lock class, all BLE door lock APIs are in it</td>
</tr>
</tbody>
</table>
<p>Create <code>ITuyaBleLock</code> by device id:</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// init sdk</span>
<span class="token class-name">TuyaOptimusSdk</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// get ITuyaLockManager</span>
<span class="token class-name">ITuyaLockManager</span> tuyaLockManager <span class="token operator">=</span> <span class="token class-name">TuyaOptimusSdk</span><span class="token punctuation">.</span><span class="token function">getManager</span><span class="token punctuation">(</span><span class="token class-name">ITuyaLockManager</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// create ITuyaBleLock</span>
<span class="token class-name">ITuyaBleLock</span> tuyaLockDevice <span class="token operator">=</span> tuyaLockManager<span class="token punctuation">.</span><span class="token function">getBleLock</span><span class="token punctuation">(</span>your_device_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="member-management"><a name="member-management" class="anchor-navigation-ex-anchor" href="#member-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Member Management</h2>
<p>The door lock can be divided into family members and non-family members. Family members are concepts in the whole house intelligence, you can refer to the <a href="https://tuyainc.github.io/tuyasmart_home_android_sdk_doc/en/resource/HomeMember.html" target="_blank">Family Member Management</a>  for details.</p>
<h3 id="get-lock-members"><a name="get-lock-members" class="anchor-navigation-ex-anchor" href="#get-lock-members"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. Get Lock Members</h3>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * get lock users
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getLockUsers</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">BLELockUser</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<p><strong><code>BLELockUser</code> data model</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>String</td>
<td>user id</td>
</tr>
<tr>
<td>lockUserId</td>
<td>int</td>
<td>user id in lock device</td>
</tr>
<tr>
<td>userContact</td>
<td>String</td>
<td>user contact</td>
</tr>
<tr>
<td>nickName</td>
<td>String</td>
<td>user nick name</td>
</tr>
<tr>
<td>avatarUrl</td>
<td>String</td>
<td>avatar url</td>
</tr>
<tr>
<td>userType</td>
<td>int</td>
<td>User type, 10 is administrator, 20 is ordinary home user, 30 is door lock user</td>
</tr>
<tr>
<td>supportUnlockTypes</td>
<td>List<string></string></td>
<td>Supported unlock types, you can check the unlock type in TuyaUnlockType</td>
</tr>
<tr>
<td>effectiveTimestamp</td>
<td>long</td>
<td>User effective timestamp, unit ms</td>
</tr>
<tr>
<td>invalidTimestamp</td>
<td>long</td>
<td>User failure timestamp, unit ms</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">getLockUsers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">BLELockUser</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;get lock users failed: code = &quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BLELockUser</span><span class="token punctuation">&gt;</span></span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;get lock users success: lockUserBean = &quot;</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="create-lock-member"><a name="create-lock-member" class="anchor-navigation-ex-anchor" href="#create-lock-member"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. Create Lock Member</h3>
<p>SDK support add member for lock device</p>
<pre class="language-"><code class="lang-sequence">Title: create lock member

participant app
participant server

note over app: write member info
app-&gt;server: send create member request
server--&gt;app: response result
note over app: show result
</code></pre>
<blockquote>
<p>Note:  For non-family members created here,  family members needs to refer to the document  <a href="https://tuyainc.github.io/tuyasmart_home_android_sdk_doc/en/resource/HomeMember.html" target="_blank">Family Member Management</a>.</p>
</blockquote>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * add lock user
 *
 * @param userName           userName
 * @param allowedUnlock      Whether allowed unlock with bluetooth
 * @param permanent          Whether the user is permanent
 * @param effectiveTimestamp User effective time
 * @param invalidTimestamp   User invalid time
 * @param avatarFile         avatar
 * @param callback           callback
 */</span>
<span class="token keyword">void</span> <span class="token function">addLockUser</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> userName<span class="token punctuation">,</span> <span class="token keyword">boolean</span> allowedUnlock<span class="token punctuation">,</span> <span class="token keyword">boolean</span> permanent<span class="token punctuation">,</span> <span class="token keyword">long</span> effectiveTimestamp<span class="token punctuation">,</span> <span class="token keyword">long</span> invalidTimestamp<span class="token punctuation">,</span> <span class="token class-name">File</span> avatarFile<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userName</td>
<td>user name</td>
</tr>
<tr>
<td>allowedUnlock</td>
<td>Allow users to unlock using Bluetooth</td>
</tr>
<tr>
<td>unlockType</td>
<td>Unlock type, you can check TuyaUnlockType</td>
</tr>
<tr>
<td>permanent</td>
<td>Whether it is a permanent user</td>
</tr>
<tr>
<td>effectiveTimestamp</td>
<td>User effective timestamp, unit ms, if the permanent value is true, the value can be ignored</td>
</tr>
<tr>
<td>invalidTimestamp</td>
<td>User expiry timestamp, unit ms, if the permanent value is true, this value can be ignored</td>
</tr>
<tr>
<td>avatarFile</td>
<td>avatar file</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">addLockUser</span><span class="token punctuation">(</span><span class="token string">&quot;your_user_name&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;add lock user failed: code = &quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;add lock user success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="update-lock-member"><a name="update-lock-member" class="anchor-navigation-ex-anchor" href="#update-lock-member"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.3. Update Lock Member</h3>
<p>SDK provides the function of modifying the members of the lock. The members of the lock will interact with the hardware and require the device to maintain a Bluetooth connection.</p>
<pre class="language-"><code class="lang-sequence">Title: Update Lock Member

participant server
participant app
participant lock

note over app: write new user info
app-&gt;lock: create bluetooth connection
app-&gt;lock: send device update member command data
lock--&gt;app: receive device update result
app-&gt;server: send request, update member
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * update lock user
 *
 * @param userId             userId
 * @param userName           userName
 * @param allowedUnlock      Whether allowed unlock with bluetooth
 * @param permanent          Whether the user is permanent
 * @param effectiveTimestamp User effective time
 * @param invalidTimestamp   User invalid time
 * @param avatarFile         avatar
 * @param callback           callback
 */</span>
<span class="token keyword">void</span> <span class="token function">updateLockUser</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> allowedUnlock<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span> userName<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> permanent<span class="token punctuation">,</span> <span class="token keyword">long</span> effectiveTimestamp<span class="token punctuation">,</span> <span class="token keyword">long</span> invalidTimestamp<span class="token punctuation">,</span> <span class="token class-name">File</span> avatarFile<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>user id</td>
</tr>
<tr>
<td>allowedUnlock</td>
<td>Allow users to unlock using Bluetooth</td>
</tr>
<tr>
<td>userName</td>
<td>user name</td>
</tr>
<tr>
<td>permanent</td>
<td>Whether it is a permanent user</td>
</tr>
<tr>
<td>effectiveTimestamp</td>
<td>User effective timestamp, unit ms, if the permanent value is true, the value can be ignored</td>
</tr>
<tr>
<td>invalidTimestamp</td>
<td>User expiry timestamp, unit ms, if the permanent value is true, this value can be ignored</td>
</tr>
<tr>
<td>avatarFile</td>
<td>avatar file</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">updateLockUser</span><span class="token punctuation">(</span><span class="token string">&quot;your_user_id&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&quot;your_user_name&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;update lock user failed: code = &quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> aBoolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;update lock user success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="delete-lock-member"><a name="delete-lock-member" class="anchor-navigation-ex-anchor" href="#delete-lock-member"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.4. Delete Lock Member</h3>
<p>SDK provides the feature of deleting the member of the lock. The member of the lock will interact with the hardware and delete all unlocking methods and passwords of the user. The operation requires the device to maintain a bluetooth connection.</p>
<pre class="language-"><code class="lang-sequence">Title: Delete Lock Member

participant server
participant app
participant lock

note over app: delete member
app-&gt;lock: create bluetooth connection
app-&gt;lock: send delete user command data
lock--&gt;app: response command result
app-&gt;server: send delete user reques
server--&gt;app: response result
note over app: show result
</code></pre>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * delete lock user
 * @param user user bean
 * @param callback  callback
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteLockUser</span><span class="token punctuation">(</span><span class="token class-name">BLELockUser</span> user<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>
</code></pre>
<h2 id="device-bluetooth-connection-status"><a name="device-bluetooth-connection-status" class="anchor-navigation-ex-anchor" href="#device-bluetooth-connection-status"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Device Bluetooth Connection Status</h2>
<p>After the Bluetooth connection is established between the mobile phone and the device, the door lock can be opened via Bluetooth.</p>
<h3 id="determine-the-lock-is-connected"><a name="determine-the-lock-is-connected" class="anchor-navigation-ex-anchor" href="#determine-the-lock-is-connected"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. Determine the Lock Is Connected</h3>
<p><strong>Description</strong></p>
<p>Determine whether the Bluetooth door lock is connected to the mobile phone.</p>
<p>The operations related to controlling the door lock basically need to call this interface to judge, and the door lock must be online to operate.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 *  @return if lock online, return true
 */</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isBLEConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token keyword">boolean</span> online <span class="token operator">=</span> tuyaLockDevice<span class="token punctuation">.</span><span class="token function">isBLEConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="connect-bluetooth-door-lock"><a name="connect-bluetooth-door-lock" class="anchor-navigation-ex-anchor" href="#connect-bluetooth-door-lock"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.2. Connect Bluetooth Door Lock</h3>
<p><strong>Description</strong></p>
<p>If the door lock is not connected, call this interface to connect to the door lock</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * connect to lock
 *
 * @param connectListener callback BLE lock connect status
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token class-name">ConnectListener</span> connectListener<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<p><code>ConnectListener</code> is the callback of device connection status, <code>onStatusChanged</code> will return online status.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConnectListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStatusChanged</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> online<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;onStatusChanged  online: &quot;</span> <span class="token operator">+</span> online<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="dynamic-password"><a name="dynamic-password" class="anchor-navigation-ex-anchor" href="#dynamic-password"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. Dynamic Password</h2>
<p>Use the SDK to get a dynamic password and enter it on the door lock to unlock. The dynamic password is valid for 5 minutes.</p>
<pre class="language-"><code class="lang-sequence">title: Unlock with dynamic password
participant lock
participant user
participant app
participant server

app -&gt; server: Request for dynamic password
server --&gt; app: Returns dynamic password results
app --&gt; user: Send password
note over user: Get dynamic password
user -&gt; lock: Input dynamic password
note over lock: Execute
</code></pre>
<h3 id="get-dynamic-password"><a name="get-dynamic-password" class="anchor-navigation-ex-anchor" href="#get-dynamic-password"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.1. Get Dynamic Password</h3>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getDynamicPassword</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">getDynamicPassword</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;get lock dynamic password failed: code = &quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> dynamicPassword<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;get lock dynamic password success: dynamicPassword = &quot;</span> <span class="token operator">+</span> dynamicPassword<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="bluetooth-unlock--lock"><a name="bluetooth-unlock--lock" class="anchor-navigation-ex-anchor" href="#bluetooth-unlock--lock"><i class="fa fa-link" aria-hidden="true"></i></a>1.6. Bluetooth Unlock &amp; Lock</h2>
<h3 id="unlock-via-bluetooth"><a name="unlock-via-bluetooth" class="anchor-navigation-ex-anchor" href="#unlock-via-bluetooth"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.1. Unlock via Bluetooth</h3>
<pre class="language-"><code class="lang-sequence">Title: Bluetooth Unlock

participant user
participant app
participant lock

note over app: bluetooth open, lock device connected
user-&gt;app: unlock
app-&gt;lock: use ble send unlock command data
note over lock: receive command, execute
lock--&gt;app: send unlock result
note over app: show result
</code></pre>
<p><strong>Description</strong></p>
<p>After the door lock is connected with the app, you can call this interface to unlock it.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * unlock the door
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">unlock</span><span class="token punctuation">(</span><span class="token class-name">String</span> lockUserId<span class="token punctuation">)</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>lockUserId</td>
<td>The user id in the door lock device</td>
</tr>
</tbody>
</table>
<p>All users will have a corresponding id in the door lock, the id starts from 1, and the number will increase by one for each new user added.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">// &quot;1&quot; is the id of the current user in the door lock device</span>
tuyaLockDevice<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="lock-via-bluetooth"><a name="lock-via-bluetooth" class="anchor-navigation-ex-anchor" href="#lock-via-bluetooth"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.2. Lock via Bluetooth</h3>
<pre class="language-"><code class="lang-sequence">Title: Bluetooth Lock

participant user
participant app
participant lock

note over app: bluetooth open, lock device connected
user-&gt;app: lock
app-&gt;lock: use ble send lock command data
note over lock: receive command, execute
lock--&gt;app: send lock result
note over app: show result
</code></pre>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * lock the door
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="lock-records"><a name="lock-records" class="anchor-navigation-ex-anchor" href="#lock-records"><i class="fa fa-link" aria-hidden="true"></i></a>1.7. Lock Records</h2>
<h3 id="get-alarm-records"><a name="get-alarm-records" class="anchor-navigation-ex-anchor" href="#get-alarm-records"><i class="fa fa-link" aria-hidden="true"></i></a>1.7.1. Get Alarm Records</h3>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * get alarm records
 * @param offset page number
 * @param limit item count
 * @param callback callback
 */</span>
<span class="token keyword">void</span> <span class="token function">getAlarmRecords</span><span class="token punctuation">(</span><span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Record</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>offset</td>
<td>page offset</td>
</tr>
<tr>
<td>limit</td>
<td>item count in one page</td>
</tr>
</tbody>
</table>
<p><strong>Parameters in callback</strong></p>
<p><code>Record</code>  Description</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>totalCount</td>
<td>int</td>
<td>total count of records</td>
</tr>
<tr>
<td>hasNext</td>
<td>boolean</td>
<td>has next page</td>
</tr>
<tr>
<td>datas</td>
<td>List<databean></databean></td>
<td>the list of records</td>
</tr>
</tbody>
</table>
<p><code>DataBean</code> Description</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>String</td>
<td>user id</td>
</tr>
<tr>
<td>unlockType</td>
<td>String</td>
<td>unlock type</td>
</tr>
<tr>
<td>userName</td>
<td>String</td>
<td>user name</td>
</tr>
<tr>
<td>createTime</td>
<td>long</td>
<td>create timestamp, unit ms</td>
</tr>
<tr>
<td>devId</td>
<td>String</td>
<td>device id</td>
</tr>
<tr>
<td>unlockRelation</td>
<td>UnlockRelation</td>
<td>The relationship between the unlock type and the unlock password number, if it is not the unlock record, it can be empty</td>
</tr>
<tr>
<td>tags</td>
<td>int</td>
<td>record tag&#xFF0C;0 means other, 1 means hijack alarm</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span> <span class="token function">getAlarmRecords</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Record</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;get lock records failed: code = &quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">Record</span> recordBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;get lock records success: recordBean = &quot;</span> <span class="token operator">+</span> recordBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="get-unlocked-records"><a name="get-unlocked-records" class="anchor-navigation-ex-anchor" href="#get-unlocked-records"><i class="fa fa-link" aria-hidden="true"></i></a>1.7.2. Get Unlocked Records</h3>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * get unlock records
 * @param unlockTypes unlock type list 
 * @param offset page number
 * @param limit item count
 * @param callback callback
 */</span>
<span class="token keyword">void</span> <span class="token function">getUnlockRecords</span><span class="token punctuation">(</span><span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Record</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>offset</td>
<td>page offset</td>
</tr>
<tr>
<td>limit</td>
<td>item count in one page</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">getUnlockRecords</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Record</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;get unlock records failed: code = &quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">Record</span> recordBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;get unlock records success: recordBean = &quot;</span> <span class="token operator">+</span> recordBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="unlock-mode-management"><a name="unlock-mode-management" class="anchor-navigation-ex-anchor" href="#unlock-mode-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.8. Unlock Mode Management</h2>
<p>This section provides interfaces for setting, modifying, and deleting unlocking methods.</p>
<p>The following figure shows the interactive process of adding an unlock method:</p>
<div class="mermaid">
sequenceDiagram
SDK-&gt;&gt;Lock: Connect
Note left of Lock: Connect via Bluetooth
Lock--&gt;&gt;SDK: Connect success
SDK-&gt;&gt;Lock: Add unloack mode
Lock--&gt;&gt;SDK: Success
SDK-&gt;&gt;Server: Notify to server
loop save info
    Server-&gt;&gt;Server: 
end
Server--&gt;&gt;SDK: Success
</div>

<h3 id="get-unlock-modes"><a name="get-unlock-modes" class="anchor-navigation-ex-anchor" href="#get-unlock-modes"><i class="fa fa-link" aria-hidden="true"></i></a>1.8.1. Get Unlock Modes</h3>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * get unlock mode by unlockType
 *
 * @param unlockType unlock type {@link com.tuya.smart.optimus.lock.api.TuyaUnlockType}
 * @param callback callback
 */</span>
<span class="token keyword">void</span> <span class="token function">getUnlockModeList</span><span class="token punctuation">(</span><span class="token class-name">String</span> unlockType<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">UnlockMode</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<p><strong><code>UnlockMode</code> data model</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>String</td>
<td>user id</td>
</tr>
<tr>
<td>lockUserId</td>
<td>int</td>
<td>user id in door lock device</td>
</tr>
<tr>
<td>userName</td>
<td>String</td>
<td>user name</td>
</tr>
<tr>
<td>unlockAttr</td>
<td>int</td>
<td>Unlock mode attribute, 0 is the ordinary unlock mode, 1 is the unlock mode</td>
</tr>
<tr>
<td>userType</td>
<td>int</td>
<td>User type, 10 is administrator, 20 is ordinary home user, 30 is door lock user</td>
</tr>
<tr>
<td>unlockModeId</td>
<td>String</td>
<td>The id of the current unlock mode on the server</td>
</tr>
<tr>
<td>unlockId</td>
<td>String</td>
<td>The id of the current unlock mode in the door lock</td>
</tr>
<tr>
<td>unlockName</td>
<td>String</td>
<td>The name of the current unlock mode</td>
</tr>
<tr>
<td>unlockType</td>
<td>String</td>
<td>unlock type&#xFF0C;see TuyaUnlockType</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">getUnlockModeList</span><span class="token punctuation">(</span><span class="token class-name">TuyaUnlockType</span><span class="token punctuation">.</span>PASSWORD<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">UnlockMode</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UnlockMode</span><span class="token punctuation">&gt;</span></span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;getUnlockModeList  onSuccess: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;getUnlockModeList failed: code = &quot;</span> <span class="token operator">+</span> errorCode <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="register-unlock-mode-listener"><a name="register-unlock-mode-listener" class="anchor-navigation-ex-anchor" href="#register-unlock-mode-listener"><i class="fa fa-link" aria-hidden="true"></i></a>1.8.2. Register Unlock Mode Listener</h3>
<p>The interfaces for adding, modifying, and deleting unlocking methods are all asynchronous calls and all return from this interface.</p>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token keyword">void</span> <span class="token function">setUnlockModeListener</span><span class="token punctuation">(</span><span class="token class-name">UnlockModeListener</span> unlockModeListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The code in <code>UnlockModeListener</code> is as follows:</p>
<pre class="language-"><code class="lang-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UnlockModeListener</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     * Unlock mode parameter is illegal
     */</span>
    <span class="token keyword">int</span> FAILED_STATUS_ILLEGAL_ARGUMENT <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * The current operation does not support this unlock type
     */</span>
    <span class="token keyword">int</span> FAILED_STATUS_NOT_SUPPORT_UNLOCK_TYPE <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Send command failed
     */</span>
    <span class="token keyword">int</span> FAILED_STATUS_SEND_ERROR <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Request to server failed
     */</span>
    <span class="token keyword">int</span> FAILED_STATUS_REQUEST_SERVER_ERROR <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Incomplete fingerprint
     */</span>
    <span class="token keyword">int</span> FAILED_STATUS_FINGERPRINT_INCOMPLETE <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Server response failed
     */</span>
    <span class="token keyword">int</span> FAILED_STATUS_SERVER_RESPONSE_FAILED <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * Door lock response failed
     */</span>
    <span class="token keyword">int</span> FAILED_STATUS_LOCK_RESPONSE_FAILED <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token comment">/*-----The following states are defined in the door lock, and the return code that fails to create the unlock mode is created-------*/</span>
    <span class="token keyword">int</span> FAILED_STATUS_TIMEOUT <span class="token operator">=</span> <span class="token number">0x00</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_FAILED <span class="token operator">=</span> <span class="token number">0x01</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_REPEAT <span class="token operator">=</span> <span class="token number">0x02</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_LOCK_ID_EXHAUSTED <span class="token operator">=</span> <span class="token number">0x03</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_PASSWORD_NOT_NUMBER <span class="token operator">=</span> <span class="token number">0x04</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_PASSWORD_WRONG_LENGTH <span class="token operator">=</span> <span class="token number">0x05</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_NOT_SUPPORT <span class="token operator">=</span> <span class="token number">0x06</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_ALREADY_ENTERED <span class="token operator">=</span> <span class="token number">0x07</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_ALREADY_BOUND_CARD <span class="token operator">=</span> <span class="token number">0x08</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_ALREADY_BOUND_FACE <span class="token operator">=</span> <span class="token number">0x09</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_PASSWORD_TOO_SIMPLE <span class="token operator">=</span> <span class="token number">0x0A</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> FAILED_STATUS_WRONG_LOCK_ID <span class="token operator">=</span> <span class="token number">0xFE</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Callback methods for adding, deleting, and modifying door
     *
     * @param devId              device id
     * @param userId             user id
     * @param unlockModeResponse unlockModeResponse
     */</span>
    <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">UnlockModeResponse</span> unlockModeResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>unlockMethod</td>
<td>String</td>
<td>The current method of operating the door lock has three values:<br>/<strong> Add unlock mode  */ <br>public static final String UNLOCK_METHOD_CREATE = &quot;unlock_method_create&quot;; <br>/</strong> Modify  */ <br>public static final String UNLOCK_METHOD_MODIFY = &quot;unlock_method_modify&quot;;<br> /<em>* Delete  \</em>/ <br>public static final String UNLOCK_METHOD_DELETE = &quot;unlock_method_delete&quot;;</td>
</tr>
<tr>
<td>unlockType</td>
<td>String</td>
<td>unlock type&#xFF0C;see TuyaUnlockType</td>
</tr>
<tr>
<td>stage</td>
<td>int</td>
<td>The current stage of operating the door lock is defined in BleLockConstant. Details are as follows:<br>int STAGE_AFTER = -2; // After the operation door lock is completed, synchronize the data with the server<br>int STAGE_BEFORE = -1;// Before interacting with the door lock, such as sending commands and interacting with the server<br> int STAGE_START = 0x00; // start<br>int STAGE_CANCEL = 0xFE;// cancel<br> int STAGE_FAILED = 0xFD;// failed <br>int STAGE_ENTERING = 0xFC;// entering<br> int STAGE_SUCCESS = 0xFF;// success</td>
</tr>
<tr>
<td>lockUserId</td>
<td>int</td>
<td>user id in door lock device</td>
</tr>
<tr>
<td>unlockId</td>
<td>int</td>
<td>Unlock mode id in door lock device</td>
</tr>
<tr>
<td>unlockModeId</td>
<td>String</td>
<td>Unlock mode id</td>
</tr>
<tr>
<td>admin</td>
<td>boolean</td>
<td>Is it an administrator</td>
</tr>
<tr>
<td>times</td>
<td>int</td>
<td>0 means permanently effective, 1 ~ 254 means actual effective times, other numbers are invalid</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>Failed status code, see UnlockModeListener</td>
</tr>
<tr>
<td>failedStage</td>
<td>int</td>
<td>The stage at which the failure occurred.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">setUnlockModeListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UnlockModeListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResult</span><span class="token punctuation">(</span><span class="token class-name">String</span> devId<span class="token punctuation">,</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">UnlockModeResponse</span> unlockModeResponse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;UnlockModeListener devId: &quot;</span> <span class="token operator">+</span> devId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;UnlockModeListener userId: &quot;</span> <span class="token operator">+</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;UnlockModeListener unlockType: &quot;</span> <span class="token operator">+</span> unlockModeResponse<span class="token punctuation">.</span>unlockType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;UnlockModeListener: &quot;</span> <span class="token operator">+</span> unlockModeResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>unlockModeResponse<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unlockModeResponse<span class="token punctuation">.</span>unlockMethod<span class="token punctuation">,</span> <span class="token class-name">UnlockModeResponse</span><span class="token punctuation">.</span>UNLOCK_METHOD_CREATE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Create unlock mode success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unlockModeResponse<span class="token punctuation">.</span>unlockMethod<span class="token punctuation">,</span> <span class="token class-name">UnlockModeResponse</span><span class="token punctuation">.</span>UNLOCK_METHOD_MODIFY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Modify unlock mode success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unlockModeResponse<span class="token punctuation">.</span>unlockMethod<span class="token punctuation">,</span> <span class="token class-name">UnlockModeResponse</span><span class="token punctuation">.</span>UNLOCK_METHOD_DELETE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Delete unlock mode success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>unlockModeResponse<span class="token punctuation">.</span>stage <span class="token operator">==</span> <span class="token class-name">BleLockConstant</span><span class="token punctuation">.</span>STAGE_FAILED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unlockModeResponse<span class="token punctuation">.</span>unlockMethod<span class="token punctuation">,</span> <span class="token class-name">UnlockModeResponse</span><span class="token punctuation">.</span>UNLOCK_METHOD_CREATE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Create unlock mode failed.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Create unlock mode failed reason: &quot;</span> <span class="token operator">+</span> unlockModeResponse<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Create unlock mode failed stage: &quot;</span> <span class="token operator">+</span> unlockModeResponse<span class="token punctuation">.</span>failedStage<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unlockModeResponse<span class="token punctuation">.</span>unlockMethod<span class="token punctuation">,</span> <span class="token class-name">UnlockModeResponse</span><span class="token punctuation">.</span>UNLOCK_METHOD_MODIFY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Modify unlock mode failed.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Modify unlock mode failed reason: &quot;</span> <span class="token operator">+</span> unlockModeResponse<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Modify unlock mode failed stage: &quot;</span> <span class="token operator">+</span> unlockModeResponse<span class="token punctuation">.</span>failedStage<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unlockModeResponse<span class="token punctuation">.</span>unlockMethod<span class="token punctuation">,</span> <span class="token class-name">UnlockModeResponse</span><span class="token punctuation">.</span>UNLOCK_METHOD_DELETE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Delete unlock mode failed.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Delete unlock mode failed reason: &quot;</span> <span class="token operator">+</span> unlockModeResponse<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">w</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Delete unlock mode failed stage: &quot;</span> <span class="token operator">+</span> unlockModeResponse<span class="token punctuation">.</span>failedStage<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="add-unlock-mode"><a name="add-unlock-mode" class="anchor-navigation-ex-anchor" href="#add-unlock-mode"><i class="fa fa-link" aria-hidden="true"></i></a>1.8.3. Add Unlock Mode</h3>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Add unlock method.
 *
 * @param unlockType TuyaUnlockType {@link com.tuya.smart.optimus.lock.api.TuyaUnlockType}
 * @param user       BLELockUser {@link com.tuya.smart.sdk.optimus.lock.bean.ble.BLELockUser}
 * @param name       Unlock mode name.
 * @param password   Unlock password. If it is not the password unlock type, this field can be null
 * @param times      Number of times the unlock mode can be used. The value range is 0 to 254, 0 means unlimited times, and 1 ~ 254 is the actual number of times.
 * @param isHijack   Hijack flag. If it is true, a hijacking alarm will be triggered when unlocking with this unlock mode.
 */</span>
<span class="token keyword">void</span> <span class="token function">addUnlockMode</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> unlockType<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">BLELockUser</span> user<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token keyword">int</span> times<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isHijack<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>unlockType</td>
<td>Unlock type&#xFF0C;see TuyaUnlockType</td>
</tr>
<tr>
<td>user</td>
<td>BLELockUser&#xFF0C;user data model</td>
</tr>
<tr>
<td>name</td>
<td>Unlock mode name</td>
</tr>
<tr>
<td>password</td>
<td>Unlock password. If it is not the password unlock type, this field can be null</td>
</tr>
<tr>
<td>times</td>
<td>Number of times the unlock mode can be used. The value range is 0 to 254, 0 means unlimited times, and 1 ~ 254 is the actual number of times.</td>
</tr>
<tr>
<td>isHijack</td>
<td>Hijack flag. If it is true, a hijacking alarm will be triggered when unlocking with this unlock mode.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Add a password for home users</p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">getHomeUsers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">BLELockUser</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BLELockUser</span><span class="token punctuation">&gt;</span></span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;getHomeUsers  onSuccess: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// add password unlock mode</span>
        tuyaLockDevice<span class="token punctuation">.</span><span class="token function">addUnlockMode</span><span class="token punctuation">(</span><span class="token class-name">TuyaUnlockType</span><span class="token punctuation">.</span>PASSWORD<span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;test_unlock_mode1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;431232&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;getHomeUsers failed: code = &quot;</span> <span class="token operator">+</span> errorCode <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="update-unlock-mode-info"><a name="update-unlock-mode-info" class="anchor-navigation-ex-anchor" href="#update-unlock-mode-info"><i class="fa fa-link" aria-hidden="true"></i></a>1.8.4. Update Unlock Mode Info</h3>
<p><strong>Description</strong></p>
<p>Update the name of the unlock mode and modify the hijacking mark.</p>
<p>This interface does not interact with the door lock, only communicates with the server.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Update name and hijack flag of the unlocking method. Only update server information, not communicate with door lock device
 *
 * @param unlockMode UnlockMode bean {@link com.tuya.smart.sdk.optimus.lock.bean.ble.UnlockMode}
 * @param name       Unlock mode name
 * @param isHijack   Hijack flag. If it is true, a hijacking alarm will be triggered when unlocking with this unlock mode.
 */</span>
<span class="token keyword">void</span> <span class="token function">updateUnlockModeServerInfo</span><span class="token punctuation">(</span><span class="token class-name">UnlockMode</span> unlockMode<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isHijack<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>unlockMode</td>
<td>Unlock mode data model</td>
</tr>
<tr>
<td>name</td>
<td>Unlock mode name</td>
</tr>
<tr>
<td>isHijack</td>
<td>Hijack flag. If it is true, a hijacking alarm will be triggered when unlocking with this unlock mode.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">getUnlockModeList</span><span class="token punctuation">(</span><span class="token class-name">TuyaUnlockType</span><span class="token punctuation">.</span>FINGERPRINT<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">UnlockMode</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UnlockMode</span><span class="token punctuation">&gt;</span></span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;getUnlockModeList  onSuccess: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">UnlockMode</span> unlockMode <span class="token operator">:</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unlockMode<span class="token punctuation">.</span>unlockName<span class="token punctuation">,</span> <span class="token string">&quot;test_unlock_mode1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                tuyaLockDevice<span class="token punctuation">.</span><span class="token function">updateUnlockModeServerInfo</span><span class="token punctuation">(</span>unlockMode<span class="token punctuation">,</span> <span class="token string">&quot;test_unlock2&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// rename unlock mode</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;getUnlockModeList failed: code = &quot;</span> <span class="token operator">+</span> errorCode <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="delete-unlock-mode"><a name="delete-unlock-mode" class="anchor-navigation-ex-anchor" href="#delete-unlock-mode"><i class="fa fa-link" aria-hidden="true"></i></a>1.8.5. Delete Unlock Mode</h3>
<p><strong>Description</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Delete unlockMode.
 *
 * @param unlockMode unlockMode
 */</span>
<span class="token keyword">void</span> <span class="token function">deleteUnlockMode</span><span class="token punctuation">(</span><span class="token class-name">UnlockMode</span> unlockMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">deleteUnlockMode</span><span class="token punctuation">(</span>unlockMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="fingerprint-entry-canceled"><a name="fingerprint-entry-canceled" class="anchor-navigation-ex-anchor" href="#fingerprint-entry-canceled"><i class="fa fa-link" aria-hidden="true"></i></a>1.8.6. Fingerprint Entry Canceled</h3>
<p><strong>Description</strong></p>
<p>The fingerprint unlock mode generally requires 4 to 5 fingerprints to be entered. If you need to cancel the fingerprint during the entry process, you can call this interface.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Cancel fingerprint entry.
 * &lt;p&gt;
 * The fingerprint entry process will be repeated multiple times and can be cancelled during the entry process.
 *
 * @param user BLELockUser {@link com.tuya.smart.sdk.optimus.lock.bean.ble.BLELockUser}
 */</span>
<span class="token keyword">void</span> <span class="token function">cancelFingerprintUnlockMode</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">BLELockUser</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="update-the-unlock-mode-of-password-type"><a name="update-the-unlock-mode-of-password-type" class="anchor-navigation-ex-anchor" href="#update-the-unlock-mode-of-password-type"><i class="fa fa-link" aria-hidden="true"></i></a>1.8.7. Update the Unlock Mode of Password Type</h3>
<p><strong>Description</strong></p>
<p>The password can be updated after the unlock mode of the password type is set. You can call this interface to modify the password name, password, unlock times, and hijack mark.</p>
<p>Note: Only the password type supports calling this interface.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Update the name, password, validity period and other information of the unlocking method
 *
 * @param unlockMode UnlockMode bean {@link com.tuya.smart.sdk.optimus.lock.bean.ble.UnlockMode}
 * @param name       Unlock mode name
 * @param password   Unlock password. If it is not the password unlock method, this field can be null
 * @param times      Number of times the unlock mode can be used. The value range is 0 to 254, 0 means unlimited times, and 1 ~ 254 is the actual number of times.
 * @param isHijack   Hijack flag. If it is true, a hijacking alarm will be triggered when unlocking with this unlock mode.
 */</span>
<span class="token keyword">void</span> <span class="token function">updatePasswordUnlockMode</span><span class="token punctuation">(</span><span class="token class-name">UnlockMode</span> unlockMode<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token keyword">int</span> times<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isHijack<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>unlockMode</td>
<td>Unlock mode data model</td>
</tr>
<tr>
<td>name</td>
<td>Unlock mode name</td>
</tr>
<tr>
<td>password</td>
<td>Unlock password, required for the password type, other unlock types can be empty</td>
</tr>
<tr>
<td>times</td>
<td>The number of times the password is valid. 0 means permanently effective, 1 ~ 254 means actual effective times, other numbers are invalid</td>
</tr>
<tr>
<td>isHijack</td>
<td>Hijack flag. If it is true, a hijacking alarm will be triggered when unlocking with this unlock mode.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java">tuyaLockDevice<span class="token punctuation">.</span><span class="token function">getUnlockModeList</span><span class="token punctuation">(</span><span class="token class-name">TuyaUnlockType</span><span class="token punctuation">.</span>PASSWORD<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ArrayList</span><span class="token punctuation">&lt;</span><span class="token class-name">UnlockMode</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UnlockMode</span><span class="token punctuation">&gt;</span></span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;getUnlockModeList  onSuccess: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">UnlockMode</span> unlockMode <span class="token operator">:</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unlockMode<span class="token punctuation">.</span>unlockName<span class="token punctuation">,</span> <span class="token string">&quot;test_password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                tuyaLockDevice<span class="token punctuation">.</span><span class="token function">updatePasswordUnlockMode</span><span class="token punctuation">(</span>unlockMode<span class="token punctuation">,</span> <span class="token string">&quot;test_password&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;131232&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// modify password</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">String</span> errorCode<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;getUnlockModeList failed: code = &quot;</span> <span class="token operator">+</span> errorCode <span class="token operator">+</span> <span class="token string">&quot;  message = &quot;</span> <span class="token operator">+</span> errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="ble-door-lock-function-points"><a name="ble-door-lock-function-points" class="anchor-navigation-ex-anchor" href="#ble-door-lock-function-points"><i class="fa fa-link" aria-hidden="true"></i></a>1.9. BLE Door Lock Function Points</h2>
<table>
<thead>
<tr>
<th>dp name</th>
<th>dp code</th>
</tr>
</thead>
<tbody>
<tr>
<td>create unlock method</td>
<td>unlock_method_create</td>
</tr>
<tr>
<td>delete unlock method</td>
<td>unlock_method_delete</td>
</tr>
<tr>
<td>modify unlock method</td>
<td>unlock_method_modify</td>
</tr>
<tr>
<td>disable unlock method</td>
<td>unlock_method_freeze</td>
</tr>
<tr>
<td>enable unlock method</td>
<td>unlock_method_enable</td>
</tr>
<tr>
<td>blue tooth unlock feedback</td>
<td>bluetooth_unlock_fb</td>
</tr>
<tr>
<td>unlock by bluetooth</td>
<td>bluetooth_unlock</td>
</tr>
<tr>
<td>query bluetooth unlock record</td>
<td>unlock_ble</td>
</tr>
<tr>
<td>query fingerprint unlock record</td>
<td>unlock_fingerprint</td>
</tr>
<tr>
<td>query password unlock record</td>
<td>unlock_password</td>
</tr>
<tr>
<td>query temporary unlock record</td>
<td>unlock_temporary</td>
</tr>
<tr>
<td>query dynamic unlock record</td>
<td>unlock_dynamic</td>
</tr>
<tr>
<td>query card unlock record</td>
<td>unlock_card</td>
</tr>
<tr>
<td>query face unlock record</td>
<td>unlock_face</td>
</tr>
<tr>
<td>query key unlock record</td>
<td>unlock_key</td>
</tr>
<tr>
<td>query eye unlock record</td>
<td>unlock_eye</td>
</tr>
<tr>
<td>query hand unlock record</td>
<td>unlock_hand</td>
</tr>
<tr>
<td>query finger vein unlock record</td>
<td>unlock_finger_vein</td>
</tr>
<tr>
<td>alarm record</td>
<td>alarm_lock</td>
</tr>
<tr>
<td>apply remote unlock</td>
<td>unlock_request</td>
</tr>
<tr>
<td>reply remote unlock</td>
<td>reply_unlock_request</td>
</tr>
<tr>
<td>battery status</td>
<td>battery_state</td>
</tr>
<tr>
<td>residual electricity</td>
<td>residual_electricity</td>
</tr>
<tr>
<td>lock from inside</td>
<td>reverse_lock</td>
</tr>
<tr>
<td>child lock status</td>
<td>child_lock</td>
</tr>
<tr>
<td>automatic lock switch</td>
<td>automatic_lock</td>
</tr>
<tr>
<td>Synchronized member opening method</td>
<td>synch_member</td>
</tr>
<tr>
<td>Auto lock delay time setting</td>
<td>auto_lock_time</td>
</tr>
<tr>
<td>auto lock timer</td>
<td>auto_lock_timer</td>
</tr>
<tr>
<td>finger input times</td>
<td>finger_input_times</td>
</tr>
<tr>
<td>doorbell song selete</td>
<td>doorbell_song</td>
</tr>
<tr>
<td>doorbell volume</td>
<td>doorbell_volume</td>
</tr>
<tr>
<td>language</td>
<td>language</td>
</tr>
<tr>
<td>lock welcome words</td>
<td>welcome_words</td>
</tr>
<tr>
<td>door opened status</td>
<td>door_opened</td>
</tr>
<tr>
<td>key volume</td>
<td>key_tone</td>
</tr>
<tr>
<td>beep volume</td>
<td>beep_volume</td>
</tr>
<tr>
<td>rtc lock</td>
<td>rtc_lock</td>
</tr>
<tr>
<td>auto lock countdown time</td>
<td>auto_lock_countdown</td>
</tr>
<tr>
<td>manual lock</td>
<td>manual_lock</td>
</tr>
<tr>
<td>lock motor status</td>
<td>lock_motor_state</td>
</tr>
<tr>
<td>lock motor direction</td>
<td>lock_motor_direction</td>
</tr>
<tr>
<td>disable unlock user</td>
<td>unlock_user_freeze</td>
</tr>
<tr>
<td>enable unlock user</td>
<td>unlock_user_enable</td>
</tr>
<tr>
<td>create temporary password</td>
<td>temporary_password_creat</td>
</tr>
<tr>
<td>delete temporary password</td>
<td>temporary_password_delete</td>
</tr>
<tr>
<td>modify temporary password</td>
<td>temporary_password_modify</td>
</tr>
<tr>
<td>sync unlock method</td>
<td>synch_method</td>
</tr>
<tr>
<td>motor torque</td>
<td>motor_torque</td>
</tr>
<tr>
<td>unlock method combination</td>
<td>unlock_double</td>
</tr>
<tr>
<td>arming mode switch</td>
<td>arming_mode</td>
</tr>
<tr>
<td>set remote no password unlock</td>
<td>remote_no_pd_setkey</td>
</tr>
<tr>
<td>remote no password unlock</td>
<td>remote_no_dp_key</td>
</tr>
<tr>
<td>remote phone unlock report</td>
<td>unlock_phone_remote</td>
</tr>
<tr>
<td>remote vioce unlock report</td>
<td>unlock_voice_remote</td>
</tr>
<tr>
<td>password offline time</td>
<td>password_offline_time</td>
</tr>
<tr>
<td>door open close event</td>
<td>open_close</td>
</tr>
<tr>
<td>hijack alarm record</td>
<td>hijack</td>
</tr>
<tr>
<td>open the door from inside</td>
<td>open_inside</td>
</tr>
<tr>
<td>door opening and closing status</td>
<td>closed_opened</td>
</tr>
<tr>
<td>doorbell alarm record</td>
<td>doorbell</td>
</tr>
<tr>
<td>SMS notifacation</td>
<td>message</td>
</tr>
<tr>
<td>lock from outside</td>
<td>anti_lock_outside</td>
</tr>
<tr>
<td>offline password unlock report</td>
<td>unlock_offline_pd</td>
</tr>
<tr>
<td>offline password clear report</td>
<td>unlock_offline_clear</td>
</tr>
<tr>
<td>single offline password clear report</td>
<td>unlock_offline_clear_single</td>
</tr>
</tbody>
</table>
<p><div id="gitalk-container"></div><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script>window.onload = function() {gitbook.events.on("page.change", function() {var gitalk = new Gitalk({"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true,"id":"/resource/BLELockDoc.html"});gitalk.render("gitalk-container");});};var gitalk = new Gitalk({"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true,"id":"/resource/BLELockDoc.html"});gitalk.render("gitalk-container");</script></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="WiFiLockDoc.html" class="navigation navigation-prev " aria-label="Previous page:  Wi-Fi Lock">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="CommonInterface.html" class="navigation navigation-next " aria-label="Next page: Common Interface">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"BLE Lock","level":"3.1.3.2","depth":3,"next":{"title":"Common Interface","level":"4.1","depth":1,"path":"resource/CommonInterface.md","ref":"./resource/CommonInterface.md","articles":[]},"previous":{"title":" Wi-Fi Lock","level":"3.1.3.1","depth":3,"path":"resource/WiFiLockDoc.md","ref":"./resource/WiFiLockDoc.md","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","github-buttons","anchor-navigation-ex","flexible-alerts","expandable-chapters-small","favicon","ga","pageview-count","gtalk","language-picker","hide-element","sf-score","mermaid-gb3"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"java":"java"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_android_sdk"},"livereload":{},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"gtalk":{"clientID":"1e739f11784288e253ba","clientSecret":"08d9a7ebeec2f5dbb9965c2521f66daf34eddd59","repo":"tuyasmart_home_android_sdk","owner":"TuyaInc","admin":["mimimumu","TuyaInc"],"labels":[],"distractionFreeMode":true},"mermaid-gb3":{},"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"favicon":{"shortcut":"zh-hans/resource/images/bitbug_favicon.ico"},"pageview-count":{},"github-buttons":{"buttons":[{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"star","size":"small"},{"user":"TuyaInc","repo":"tuyasmart_home_android_sdk","type":"watch","size":"small"},{"user":"TuyaInc","type":"follow","size":"small","count":true}]},"sf-score":{},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":{"zh-hans":"æ³¨æ","en":"Attention"}},"note":{"className":"info","icon":"fa fa-info-circle","label":{"zh-hans":"æç¤º","en":"Note"}},"style":"flat","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":{"zh-hans":"Tips","en":"Tip"}},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":{"zh-hans":"è­¦å","en":"Warning"}}},"ga":{"configuration":"auto","token":"UA-161421048-1"},"versions":{"options":[{"text":"Version 3.19.x"},{"value":"https://github.com/TuyaInc/tuyasmart_home_android_sdk_doc/tree/3.17.6","text":"Version 3.17.6"},{"value":"https://github.com/TuyaInc/tuyasmart_home_android_sdk_doc/tree/3.14.5","text":"Version 3.14.5"},{"value":"https://github.com/TuyaInc/tuyasmart_home_android_sdk_doc/tree/3.13.0","text":"Version 3.13.0"}]},"sharing":{"facebook":true,"twitter":true,"google":true,"weibo":true,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/BLELockDoc.md","mtime":"2020-06-06T06:30:22.791Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-10-23T07:44:13.057Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sf-score/lib/scorePlugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script src="../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

